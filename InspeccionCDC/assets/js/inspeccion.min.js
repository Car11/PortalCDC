class Inspeccion{constructor(id,dataInspeccion,dataEntregaTurno,tablaInspeccion,idComponente,arrayInspeccion,fechaInicial,fechaFinal){this.id=id||null,this.dataInspeccion=dataInspeccion||"",this.dataEntregaTurno=dataEntregaTurno||"",this.tablaInspeccion=tablaInspeccion||[],this.idComponente=idComponente||"",this.arrayInspeccion=arrayInspeccion||[],this.fechaInicial=fechaInicial||"",this.fechaFinal=fechaFinal||""}get ReadInspeccion(){var miAccion=null==this.id?"ReadAll":"Read";"ReadAll"==miAccion&&0==$("#tableBody-Inspeccion").length||$.ajax({type:"POST",url:"class/Inspeccion.php",data:{action:miAccion,id:this.id}}).done(function(e){inspeccion.setTableInspeccion(e)}).fail(function(e){inspeccion.showError(e)})}get ReadEntregaTurno(){var miAccion="ReadEntregaTurno";$.ajax({type:"POST",url:"class/Inspeccion.php",data:{action:miAccion,id:this.id}}).done(function(e){inspeccion.setTableEntregaTurno(e)}).fail(function(e){inspeccion.showError(e)})}ReadHistorial(){var referenciaCircular=inspeccion.tablaInspeccion;inspeccion.tablaInspeccion=[],$.ajax({type:"POST",url:"class/Inspeccion.php",data:{action:"ReadAllbyRange",obj:JSON.stringify(inspeccion)}}).done(function(e){inspeccion.tablaInspeccion=referenciaCircular,inspeccion.setTableHistorialInspeccion(e)})}get Save(){$("#btnProducto").attr("disabled","disabled");var miAccion=null==this.id?"Create":"Update",z=this.tablaInspeccion;this.tablaInspeccion=[],$.ajax({type:"POST",url:"class/Inspeccion.php",data:{action:miAccion,obj:JSON.stringify(this)}}).done(function(e){this.tablaInspeccion=z,swal({type:"success",title:"Inspección Guardada!",showConfirmButton:!0,timer:2e3}).then(result=>{inspeccion.arrayInspeccion=[],window.location.href="/InspeccionCDC/entregaTurno.html"})}).fail(function(e){inspeccion.showError(e)}).always(function(){})}setTableInspeccion(e){inspeccion.dataInspeccion=JSON.parse(e),this.tablaInspeccion=$("#tblInspeccion").DataTable({data:inspeccion.dataInspeccion,responsive:!0,destroy:!0,paging:!1,language:{infoEmpty:"Sin componentes",emptyTable:"Sin componentes",search:"Buscar",zeroRecords:"No hay resultados",lengthMenu:"Mostrar _MENU_ registros",paginate:{first:"Primera",last:"Ultima",next:"Siguiente",previous:"Anterior"}},columns:[{title:"ID",data:"id",className:"itemId",width:"auto"},{title:"SECTOR",data:"sector",width:"22%"},{title:"COMPONENTE",data:"componente",width:"auto"},{title:"ESTADO",data:"estado",className:"oculto"},{title:"ACCION",orderable:!1,searchable:!1,class:"buttons",width:"13%",render:function(data,type,row,meta){return 1==row.estado?'<input type="checkbox" id="toggleReporte'+row.id+'" class="toggleReporte" data-on="✔" data-off="X" data-onstyle="success" data-offstyle="danger" checked/>':'<input type="checkbox" id="toggleReporte'+row.id+'" class="toggleReporte" data-on="✔" data-off="X" data-onstyle="success" data-offstyle="danger"/>'}},{title:"DETALLE",data:"detalle",orderable:!1,searchable:!1,className:"oculto",mRender:function(data,type,row,meta){return 0==row.estado?'<input type="text" id="txtReporte'+row.id+'" value="'+data+'"/>':'<input type="text" id="txtReporte'+row.id+'" value=""/>'}}],rowCallback:function(row){$("input.toggleReporte",row).bootstrapToggle({size:"small",width:"120"})}})}setTableEntregaTurno(e){inspeccion.dataEntregaTurno=JSON.parse(e),this.tablaInspeccion=$("#tblEntregaTurno").DataTable({data:inspeccion.dataEntregaTurno,responsive:!0,destroy:!0,paging:!1,language:{infoEmpty:"Sin Alertas Reportadas",emptyTable:"Sin Alertas Reportadas",search:"Buscar",zeroRecords:"No hay resultados",lengthMenu:"Mostrar _MENU_ registros",paginate:{first:"Primera",last:"Ultima",next:"Siguiente",previous:"Anterior"}},columns:[{title:"ID",data:"id",className:"itemId",width:"auto",searchable:!1},{title:"FECHA REPORTE",data:"fecha",width:"auto"},{title:"USUARIO REPORTA",data:"userReport",width:"auto"},{title:"SECTOR",data:"idSector",className:"oculto"},{title:"SECTOR",data:"sector",width:"auto"},{title:"COMPONENTE",data:"componente",width:"auto"},{title:"DETALLE",data:"detalle",width:"auto"}]})}setTableHistorialInspeccion(e){inspeccion.dataEntregaTurno=JSON.parse(e),this.tablaInspeccion=$("#tblHistorialInspeccion").DataTable({data:inspeccion.dataEntregaTurno,responsive:!0,destroy:!0,order:[[1,"asc"]],dom:"Bfrtip",buttons:[{extend:"excelHtml5",exportOptions:{columns:[1,2,3,4,5]},messageTop:"Inspección"},{extend:"pdfHtml5",orientation:"landscape",messageTop:"Inspección",exportOptions:{columns:[1,2,3,4,5]}}],language:{infoEmpty:"Sin Registros",emptyTable:"Sin Registros",search:"Buscar",zeroRecords:"No hay resultados",lengthMenu:"Mostrar _MENU_ registros",paginate:{first:"Primera",last:"Ultima",next:"Siguiente",previous:"Anterior"}},columns:[{title:"ID",data:"id",className:"itemId",width:"auto",searchable:!1},{title:"FECHA REPORTE",data:"fecha",width:"auto"},{title:"USUARIO REPORTA",data:"userReport",width:"auto"},{title:"SECTOR",data:"idSector",className:"oculto"},{title:"SECTOR",data:"sector",width:"auto"},{title:"COMPONENTE",data:"componente",width:"auto"},{title:"DETALLE",data:"detalle",width:"auto"}]})}}let inspeccion=new Inspeccion;var tp;